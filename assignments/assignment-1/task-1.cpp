#include <iostream>
#include <cstdlib>
#include <ctime>

using namespace std;

int main() {
    // задаем размер массива - 50 тысяч элементов
    const int n = 50000;
    
    // выделяем динамически память под массив из 50000 целых чисел
    // new int[n] запрашивает у системы память на n целых чисел
    // результат (адрес начала массива) сохраняем в указателе arr
    int* arr = new int[n];
    
    // инициализируем генератор случайных чисел текущим временем
    // это нужно чтобы каждый раз получать разные случайные числа
    srand(time(0));
    
    // заполняем массив случайными числами от 1 до 100
    // запускаем цикл который пройдет по всем элементам массива
    for (int i = 0; i < n; i++) {
        // генерируем случайное число
        // rand() дает любое число, % 100 оставляет остаток от деления на 100 (от 0 до 99)
        // прибавляем 1 чтобы получить диапазон от 1 до 100
        // результат записываем в i-й элемент массива
        arr[i] = rand() % 100 + 1;
    }
    
    // инициализируем переменную для накопления суммы
    // используем long long чтобы сумма точно поместилась (50000 * 100 = 5000000)
    long long sum = 0;
    
    // проходим по всем элементам массива и суммируем их
    for (int i = 0; i < n; i++) {
        // прибавляем текущий элемент массива к общей сумме
        sum += arr[i];
    }
    
    // вычисляем среднее значение
    // делим сумму на количество элементов
    // приводим sum к типу double чтобы получить дробный результат
    double average = (double)sum / n;
    
    // выводим результаты на экран
    cout << "Размер массива: " << n << " элементов" << endl;
    cout << "Сумма всех элементов: " << sum << endl;
    cout << "Среднее значение: " << average << endl;
    
    // освобождаем выделенную память
    // delete[] говорит системе что память больше не нужна
    // важно использовать delete[] (с квадратными скобками) для массивов
    delete[] arr;
    
    // обнуляем указатель для безопасности
    // теперь arr не указывает на освобожденную память
    arr = nullptr;
    
    return 0;
}